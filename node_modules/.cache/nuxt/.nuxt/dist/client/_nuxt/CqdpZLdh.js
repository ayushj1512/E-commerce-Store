import{r as u,P as N,G as S,Q as T,ag as B,B as q,c as a,o as l,a as t,ah as P,F as _,E as f,t as n,C as h,J as b,ao as j}from"#entry";const L={class:"bg-white text-black min-h-screen font-sans p-4 md:p-10"},M={key:0,class:"space-y-6"},R={class:"flex gap-4 overflow-x-auto"},$={key:1,class:"text-center py-20 text-red-500"},A={key:2,class:"flex flex-col md:flex-row gap-12"},D={class:"md:w-1/2 flex flex-col gap-4"},E={class:"w-full rounded-xl flex items-center justify-center p-4 h-[450px] bg-gray-50 transition"},V=["src"],H={key:0,class:"flex gap-4 overflow-x-auto w-full mt-4"},J=["onClick"],Y=["src"],G={class:"md:w-1/2 flex flex-col justify-between gap-6"},K={class:"text-3xl md:text-4xl font-bold tracking-tight"},O={class:"flex items-baseline gap-4 mt-2"},Q={class:"text-2xl font-semibold"},U={key:0,class:"text-base line-through text-gray-500"},W={class:"mt-4"},X={key:0,class:"flex flex-wrap gap-2"},Z=["onClick"],ee={key:1,class:"text-gray-500 text-sm"},te={key:0,class:"text-gray-600 leading-relaxed mt-3"},se={class:"space-y-4 mt-6"},ae={class:"pt-4 border-t border-gray-200"},le={class:"text-gray-600 text-sm leading-relaxed mt-1"},oe={class:"pt-4 border-t border-gray-200"},re=["innerHTML"],ie="https://api.streetstylestore.com",ne="Bm23NaocNyDb2qWiT9Mpn4qXdSmq7bqdoLzY6espTB3MC6Rx",ue={__name:"index",setup(de){const x=u(0),p=u(""),d=u(""),e=u({}),m=u(!0),v=u(null),k=N(),w=S(),C=T(),g=B();async function z(){if(m.value=!0,v.value=null,history.state?.product){e.value=history.state.product,p.value=e.value.images[0]?.bigImg||"",d.value="",m.value=!1;return}try{const i=k.params.id,o=await j(`${ie}/collections/products/documents/${i}`,{headers:{"x-typesense-api-key":ne}}),s=o.document??o,r=s.product_data?JSON.parse(s.product_data):{},c=r[0]||{};e.value={...s,name:s.name||c.name||"",selling_price:s.real_selling_price??s.selling_price??parseFloat(c.selling_price)??0,discount_price:s.discount_price??parseFloat(c.discount_price)??0,description_short:c.description_short||s.description_short||"",images:r.images||[],product_all_sizes:s.product_all_sizes||[],delivery_information:r.delivery_information||s.delivery_information||"",return_information:r.return_information||s.return_information||""},p.value=e.value.images[0]?.bigImg||"",d.value=""}catch(i){console.error(i),v.value="Failed to fetch product data.",g?.error(v.value,{timeout:2500,icon:"âŒ"})}finally{m.value=!1}}function I(i){x.value=i,p.value=e.value.images[i].bigImg}function y(){if(e.value.product_all_sizes?.length&&!d.value){g?.warning("Please select a size before adding to cart",{timeout:2e3,icon:"âš ï¸"});return}e.value.id?(C.addToCart({id:e.value.id,name:e.value.name,price:parseFloat(e.value.selling_price),size:d.value||null,image:p.value,quantity:1}),g?.success(`${e.value.name} has been added to your cart`,{timeout:2e3,icon:"ðŸ›’"})):g?.error("Cannot add product to cart",{timeout:2e3,icon:"âŒ"})}function F(){y(),w.push("/cart")}return q(z),(i,o)=>(l(),a("div",L,[m.value?(l(),a("div",M,[o[0]||(o[0]=t("div",{class:"w-full h-[450px] bg-gray-200 rounded-xl animate-pulse"},null,-1)),t("div",R,[(l(),a(_,null,f(6,s=>t("div",{key:s,class:"h-40 w-40 bg-gray-200 rounded-lg animate-pulse flex-shrink-0"})),64))]),o[1]||(o[1]=P('<div class="space-y-4 max-w-md"><div class="h-8 bg-gray-200 rounded w-3/4 animate-pulse"></div><div class="h-6 bg-gray-200 rounded w-1/2 animate-pulse"></div><div class="h-6 bg-gray-200 rounded w-full animate-pulse"></div><div class="flex gap-4"><div class="h-10 bg-gray-200 rounded flex-1 animate-pulse"></div><div class="h-10 bg-gray-200 rounded flex-1 animate-pulse"></div></div><div class="h-4 bg-gray-200 rounded w-full animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-full animate-pulse"></div></div>',1))])):v.value?(l(),a("div",$,n(v.value),1)):(l(),a("div",A,[t("div",D,[t("div",E,[t("img",{src:p.value,alt:"Selected Product",class:"rounded-lg w-full h-full object-contain",loading:"lazy"},null,8,V)]),e.value.images.length>1?(l(),a("div",H,[(l(!0),a(_,null,f(e.value.images,(s,r)=>(l(),a("div",{key:r,onClick:c=>I(r),class:b(["bg-gray-50 rounded-xl flex items-center justify-center p-2 cursor-pointer transition transform hover:scale-105 flex-shrink-0 border-2",x.value===r?"border-black":"border-gray-200"]),style:{width:"140px",height:"140px"}},[t("img",{src:s.img,alt:"Thumb",class:"rounded-lg w-full h-full object-contain",loading:"lazy"},null,8,Y)],10,J))),128))])):h("",!0)]),t("div",G,[t("div",null,[t("h1",K,n(e.value.name),1),t("div",O,[t("p",Q,"â‚¹"+n(e.value.selling_price),1),e.value.discount_price>0?(l(),a("p",U," â‚¹"+n((parseFloat(e.value.selling_price)+parseFloat(e.value.discount_price)).toFixed(2)),1)):h("",!0)]),t("div",W,[o[2]||(o[2]=t("h3",{class:"font-semibold mb-2 text-sm"},"Available Sizes:",-1)),e.value.product_all_sizes?.length?(l(),a("div",X,[(l(!0),a(_,null,f(e.value.product_all_sizes,(s,r)=>(l(),a("button",{key:r,onClick:c=>d.value=s,class:b(["px-3 py-1 border rounded-full text-sm transition hover:scale-105",d.value===s?"bg-black text-white border-black":"bg-white text-black border-gray-300"])},n(s),11,Z))),128))])):(l(),a("p",ee,"No size selection required"))]),e.value.description_short?(l(),a("p",te,n(e.value.description_short),1)):h("",!0),t("div",{class:"flex flex-col sm:flex-row gap-4 mt-6 sticky top-24 z-10"},[t("button",{onClick:F,class:"flex-1 bg-black text-white py-3 px-6 rounded-full font-semibold hover:bg-gray-800 transform hover:scale-105 transition"}," Buy Now "),t("button",{onClick:y,class:"flex-1 border-2 border-black text-black py-3 px-6 rounded-full font-semibold hover:bg-black hover:text-white transform hover:scale-105 transition"}," Add to Cart ")])]),t("div",se,[t("div",ae,[o[3]||(o[3]=t("h3",{class:"font-semibold"},"Delivery Information",-1)),t("p",le,n(e.value.delivery_information),1)]),t("div",oe,[o[4]||(o[4]=t("h3",{class:"font-semibold"},"Return Information",-1)),t("p",{class:"text-gray-600 text-sm leading-relaxed mt-1",innerHTML:e.value.return_information},null,8,re)])])])]))]))}};export{ue as default};
