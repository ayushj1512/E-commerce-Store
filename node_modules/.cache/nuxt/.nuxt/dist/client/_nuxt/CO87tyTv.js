import{ai as u,_ as g,a0 as i,c as r,o as a,a as s,S as x,b as d,U as m,V as c,C as y,t as f,O as k}from"#entry";import{C as v}from"./CtzOELps.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=u("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=u("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=u("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),N={name:"Register",components:{Phone:P,Mail:M,Lock:_,Check:v},data(){return{mobileNumber:"",email:"",password:"",confirmPassword:"",loading:!1,alertMessage:""}},computed:{passwordMismatch(){return this.password&&this.confirmPassword&&this.password!==this.confirmPassword}},methods:{async handleRegister(){if(this.passwordMismatch){this.alertMessage="Passwords must match!";return}this.loading=!0,this.alertMessage="";try{const l=JSON.stringify({gateway_action:"customer/createAccount",mobileNumber:this.mobileNumber,site:"streetstylestore",passwd:this.password,email:this.email,firstName:"",lastName:"",checkout:!1}),e=await k.post("https://gateway.streetstylestore.com/gateway/v1/",l,{headers:{"Content-Type":"application/json"},withCredentials:!0});e.data.status===200?(console.log("✅ Registration Success:",e.data),this.$router.push("/profile")):this.alertMessage=e.data.alertMessage||"Registration failed."}catch(l){console.error("❌ Error during registration:",l),this.alertMessage="Something went wrong. Please try again."}finally{this.loading=!1}}}},C={class:"min-h-screen flex items-center justify-center bg-white px-4"},V={class:"w-full max-w-md bg-white shadow-lg rounded-xl p-6"},R={class:"flex items-center border border-gray-300 rounded-md px-3"},q={class:"flex items-center border border-gray-300 rounded-md px-3"},L={class:"flex items-center border border-gray-300 rounded-md px-3"},E={class:"flex items-center border border-gray-300 rounded-md px-3"},S={key:0,class:"text-red-600 text-xs mt-1"},A=["disabled"],U={key:0},j={key:1},B={key:0,class:"text-red-600 text-sm text-center mt-4"},D={key:1,class:"text-gray-500 text-sm text-center mt-4"};function z(l,e,I,O,t,n){const p=i("Phone"),h=i("Mail"),b=i("Lock"),w=i("Check");return a(),r("div",C,[s("div",V,[e[9]||(e[9]=s("div",{class:"text-center mb-6"},[s("h2",{class:"text-2xl font-bold text-black"},"Welcome!"),s("p",{class:"text-gray-600 text-sm"},"Let's create your account in just a few steps.")],-1)),s("form",{onSubmit:e[4]||(e[4]=x((...o)=>n.handleRegister&&n.handleRegister(...o),["prevent"])),class:"space-y-4"},[s("div",null,[e[5]||(e[5]=s("label",{class:"block text-sm font-medium text-black mb-1"},"Mobile Number",-1)),s("div",R,[d(p,{class:"w-4 h-4 text-gray-500 mr-2"}),m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.mobileNumber=o),type:"text",placeholder:"Enter mobile number",class:"w-full py-2 focus:outline-none",required:""},null,512),[[c,t.mobileNumber]])])]),s("div",null,[e[6]||(e[6]=s("label",{class:"block text-sm font-medium text-black mb-1"},"Email",-1)),s("div",q,[d(h,{class:"w-4 h-4 text-gray-500 mr-2"}),m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),type:"email",placeholder:"Enter email",class:"w-full py-2 focus:outline-none",required:""},null,512),[[c,t.email]])])]),s("div",null,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-black mb-1"},"Password",-1)),s("div",L,[d(b,{class:"w-4 h-4 text-gray-500 mr-2"}),m(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.password=o),type:"password",placeholder:"Enter password",class:"w-full py-2 focus:outline-none",required:""},null,512),[[c,t.password]])])]),s("div",null,[e[8]||(e[8]=s("label",{class:"block text-sm font-medium text-black mb-1"},"Confirm Password",-1)),s("div",E,[d(w,{class:"w-4 h-4 text-gray-500 mr-2"}),m(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.confirmPassword=o),type:"password",placeholder:"Re-enter password",class:"w-full py-2 focus:outline-none",required:""},null,512),[[c,t.confirmPassword]])]),n.passwordMismatch?(a(),r("p",S,"Passwords do not match.")):y("",!0)]),s("button",{type:"submit",class:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-800 transition disabled:opacity-50",disabled:t.loading||n.passwordMismatch},[t.loading?(a(),r("span",U,"Creating Account...")):(a(),r("span",j,"Register"))],8,A)],32),t.alertMessage?(a(),r("p",B,f(t.alertMessage),1)):(a(),r("p",D," Already have an account? Login and start exploring! "))])])}const W=g(N,[["render",z],["__scopeId","data-v-34b0fbd4"]]);export{W as default};
