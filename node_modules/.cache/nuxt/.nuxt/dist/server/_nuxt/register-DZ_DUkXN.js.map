{"version":3,"file":"register-DZ_DUkXN.js","sources":["../../../../../../../pages/login/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-white px-4\">\r\n    <div class=\"w-full max-w-md bg-white shadow-lg rounded-xl p-6\">\r\n      <!-- Greeting -->\r\n      <div class=\"text-center mb-6\">\r\n        <h2 class=\"text-2xl font-bold text-black\">Welcome!</h2>\r\n        <p class=\"text-gray-600 text-sm\">Let's create your account in just a few steps.</p>\r\n      </div>\r\n\r\n      <!-- Form -->\r\n      <form @submit.prevent=\"handleRegister\" class=\"space-y-4\">\r\n        <!-- Mobile Number -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-black mb-1\">Mobile Number</label>\r\n          <div class=\"flex items-center border border-gray-300 rounded-md px-3\">\r\n            <Phone class=\"w-4 h-4 text-gray-500 mr-2\" />\r\n            <input\r\n              v-model=\"mobileNumber\"\r\n              type=\"text\"\r\n              placeholder=\"Enter mobile number\"\r\n              class=\"w-full py-2 focus:outline-none\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Email -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-black mb-1\">Email</label>\r\n          <div class=\"flex items-center border border-gray-300 rounded-md px-3\">\r\n            <Mail class=\"w-4 h-4 text-gray-500 mr-2\" />\r\n            <input\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              class=\"w-full py-2 focus:outline-none\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Password -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-black mb-1\">Password</label>\r\n          <div class=\"flex items-center border border-gray-300 rounded-md px-3\">\r\n            <Lock class=\"w-4 h-4 text-gray-500 mr-2\" />\r\n            <input\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              class=\"w-full py-2 focus:outline-none\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Confirm Password -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-black mb-1\">Confirm Password</label>\r\n          <div class=\"flex items-center border border-gray-300 rounded-md px-3\">\r\n            <Check class=\"w-4 h-4 text-gray-500 mr-2\" />\r\n            <input\r\n              v-model=\"confirmPassword\"\r\n              type=\"password\"\r\n              placeholder=\"Re-enter password\"\r\n              class=\"w-full py-2 focus:outline-none\"\r\n              required\r\n            />\r\n          </div>\r\n          <p v-if=\"passwordMismatch\" class=\"text-red-600 text-xs mt-1\">Passwords do not match.</p>\r\n        </div>\r\n\r\n        <!-- Register Button -->\r\n        <button\r\n          type=\"submit\"\r\n          class=\"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-800 transition disabled:opacity-50\"\r\n          :disabled=\"loading || passwordMismatch\"\r\n        >\r\n          <span v-if=\"loading\">Creating Account...</span>\r\n          <span v-else>Register</span>\r\n        </button>\r\n      </form>\r\n\r\n      <!-- Alert -->\r\n      <p v-if=\"alertMessage\" class=\"text-red-600 text-sm text-center mt-4\">{{ alertMessage }}</p>\r\n      \r\n      <!-- Cute fallback message -->\r\n      <p v-else class=\"text-gray-500 text-sm text-center mt-4\">\r\n        Already have an account? Login and start exploring!\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { Phone, Mail, Lock, Check } from \"lucide-vue-next\";\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  components: { Phone, Mail, Lock, Check },\r\n  data() {\r\n    return {\r\n      mobileNumber: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      loading: false,\r\n      alertMessage: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    passwordMismatch() {\r\n      return this.password && this.confirmPassword && this.password !== this.confirmPassword;\r\n    },\r\n  },\r\n  methods: {\r\n    async handleRegister() {\r\n      if (this.passwordMismatch) {\r\n        this.alertMessage = \"Passwords must match!\";\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      this.alertMessage = \"\";\r\n\r\n      try {\r\n        const requestData = JSON.stringify({\r\n          gateway_action: \"customer/createAccount\",\r\n          mobileNumber: this.mobileNumber,\r\n          site: \"streetstylestore\",\r\n          passwd: this.password,\r\n          email: this.email,\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          checkout: false,\r\n        });\r\n\r\n        const response = await axios.post(import.meta.env.VITE_BASE_URL, requestData, {\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          withCredentials: true,\r\n        });\r\n\r\n        if (response.data.status === 200) {\r\n          console.log(\"✅ Registration Success:\", response.data);\r\n          this.$router.push(\"/profile\");\r\n        } else {\r\n          this.alertMessage = response.data.alertMessage || \"Registration failed.\";\r\n        }\r\n      } catch (error) {\r\n        console.error(\"❌ Error during registration:\", error);\r\n        this.alertMessage = \"Something went wrong. Please try again.\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Mobile Optimization */\r\n@media (max-width: 640px) {\r\n  .max-w-md {\r\n    width: 100%;\r\n    padding: 1rem;\r\n  }\r\n}\r\n</style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_ssrIncludeBooleanAttr"],"mappings":";;;;;;;;;;;;;;;;;AAkGA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,YAAY,EAAE,OAAO,MAAM,MAAM,MAAA;AAAA,EACjC,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA,MACd,OAAO;AAAA,MACP,UAAU;AAAA,MACV,iBAAiB;AAAA,MACjB,SAAS;AAAA,MACT,cAAc;AAAA,IAAA;AAAA,EAElB;AAAA,EACA,UAAU;AAAA,IACR,mBAAmB;AACjB,aAAO,KAAK,YAAY,KAAK,mBAAmB,KAAK,aAAa,KAAK;AAAA,IACzE;AAAA,EAAA;AAAA,EAEF,SAAS;AAAA,IACP,MAAM,iBAAiB;AACrB,UAAI,KAAK,kBAAkB;AACzB,aAAK,eAAe;AACpB;AAAA,MACF;AAEA,WAAK,UAAU;AACf,WAAK,eAAe;AAEpB,UAAI;AACF,cAAM,cAAc,KAAK,UAAU;AAAA,UACjC,gBAAgB;AAAA,UAChB,cAAc,KAAK;AAAA,UACnB,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,UACb,OAAO,KAAK;AAAA,UACZ,WAAW;AAAA,UACX,UAAU;AAAA,UACV,UAAU;AAAA,QAAA,CACX;AAED,cAAM,WAAW,MAAM,MAAM,KAAK,oDAA+B,aAAa;AAAA,UAC5E,SAAS,EAAE,gBAAgB,mBAAA;AAAA,UAC3B,iBAAiB;AAAA,QAAA,CAClB;AAED,YAAI,SAAS,KAAK,WAAW,KAAK;AAChC,kBAAQ,IAAI,2BAA2B,SAAS,IAAI;AACpD,eAAK,QAAQ,KAAK,UAAU;AAAA,QAC9B,OAAO;AACL,eAAK,eAAe,SAAS,KAAK,gBAAgB;AAAA,QACpD;AAAA,MACF,SAAS,OAAO;AACd,gBAAQ,MAAM,gCAAgC,KAAK;AACnD,aAAK,eAAe;AAAA,MACtB,UAAA;AACE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,EAAA;AAEJ;;;;;;AA5JO,QAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,iEAA6D,MAAA,CAAA,CAAA,qjBAAA;AAcvD,QAAAC,mBAAA,kBAAA,EAAA,OAAM,gCAA4B,MAAA,OAAA,CAAA;wCAE9B,MAAA,YAAY,CAAA,8TAAA;AAajB,QAAAA,mBAAA,iBAAA,EAAA,OAAM,gCAA4B,MAAA,OAAA,CAAA;wCAE7B,MAAA,KAAK,CAAA,0TAAA;AAaV,QAAAA,mBAAA,iBAAA,EAAA,OAAM,gCAA4B,MAAA,OAAA,CAAA;wCAE7B,MAAA,QAAQ,CAAA,wUAAA;AAaZ,QAAAA,mBAAA,kBAAA,EAAA,OAAM,gCAA4B,MAAA,OAAA,CAAA;wCAE9B,MAAA,eAAe,CAAA,yHAAA;MAOnB,SAAA,kBAAgB;;;;;AAOd,QAAA,gJAAAC,sBAAA,MAAA,WAAW,SAAA,gBAAgB,IAAA,cAAA,EAAA,mBAAA;MAE1B,MAAA,SAAO;;;;;;MAMd,MAAA,cAAY;6FAAmD,MAAA,YAAY,CAAA,MAAA;AAAA;;;;;;;;;;;;"}