{"file":"refunds-BG6MNfNm.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAiEa,iBAAA;AACb,UAAM,UAAU,IAAI,KAAK;AACzB,UAAMA,WAAU,IAAI,EAAE;AACtB,UAAM,UAAU,IAAI,IAAI;AA2BxB,UAAM,aAAa,CAAC,YAAY;AAC9B,UAAI,CAAC,QAAS,QAAO;AACrB,YAAM,OAAO,IAAI,KAAK,OAAO;AAC7B,aAAO,KAAK,mBAAA;AAAA,IACd;AAEA,UAAM,cAAc,CAAC,WAAW;AAC9B,cAAQ,QAAQ,eAAY;AAAA,QAC1B,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MAAA;AAAA,IAEb;;UA/Ga,QAAA,OAAO;AAAE,cAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,iGAA6F,MAAA,CAAA,CAAA,6YAAA;YAcxG,QAAA,OAAO;;QAKF,WAAAF,SAAA,MAAQ,WAAM,GAAA;;;;AAYTG,wBAAAH,SAAA,QAAV,WAAM;0SAIwDI,eAAA,OAAO,QAAQ,sCAExE,YAAY,OAAO,MAAM,GAAA,6DAAA,CAAA,sBAE9BA,eAAA,OAAO,MAAM,6FAINA,eAAA,OAAO,UAAM,KAAA,wGAGR,WAAW,OAAO,YAAY,KAAA,KAAA,8EAGpCA,eAAA,OAAO,UAAM,oBAAA;;;;;;;;;;;;;;;;;;","names":["refunds","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate"],"sources":["../../../../../../../pages/profile/refunds.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"mounted\" class=\"bg-gray-50 min-h-screen py-6 px-3 sm:px-6 md:px-12 lg:px-24 flex flex-col overflow-x-hidden\">\r\n    <div class=\"mx-auto w-full max-w-6xl space-y-8 sm:space-y-10 flex-1\">\r\n\r\n      <!-- Page Title -->\r\n      <div class=\"text-center mb-6 px-2\">\r\n        <h1 class=\"text-2xl sm:text-3xl font-extrabold text-black break-words\">\r\n          Refunds\r\n        </h1>\r\n        <p class=\"text-gray-700 sm:text-base md:text-lg mt-1 break-words\">\r\n          View all your refund requests and their status.\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"text-center py-10 text-gray-600\">\r\n        Loading refunds...\r\n      </div>\r\n\r\n      <!-- No Refunds -->\r\n      <div v-else-if=\"refunds.length === 0\" class=\"text-center py-10 text-gray-600\">\r\n        <p class=\"text-gray-700 text-base font-medium\">\r\n          No refunds found ðŸª„\r\n        </p>\r\n        <p class=\"text-gray-500 text-sm\">\r\n          Once you request a refund, it will appear here.\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Refunds List -->\r\n      <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        <div\r\n          v-for=\"refund in refunds\"\r\n          :key=\"refund.refund_id\"\r\n          class=\"border border-gray-300 rounded-xl p-5 shadow-sm hover:shadow-md transition bg-white overflow-hidden\">\r\n          <div class=\"flex items-center justify-between mb-3\">\r\n            <h2 class=\"text-lg font-semibold text-black break-words\">Order: {{ refund.order_id }}</h2>\r\n            <span\r\n              :class=\"statusClass(refund.status)\"\r\n              class=\"text-xs px-2 py-1 rounded-full text-white whitespace-nowrap\">\r\n              {{ refund.status }}\r\n            </span>\r\n          </div>\r\n          <p class=\"text-gray-700 text-sm mb-1 break-words\">\r\n            Amount: â‚¹{{ refund.amount || \"N/A\" }}\r\n          </p>\r\n          <p class=\"text-gray-500 text-xs mb-2 break-words\">\r\n            Requested On: {{ formatDate(refund.requested_on) || \"N/A\" }}\r\n          </p>\r\n          <p class=\"text-gray-600 text-xs break-words\">\r\n            Reason: {{ refund.reason || \"No reason provided\" }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useAuthStore } from \"~/stores/auth\";\r\nimport axios from \"axios\";\r\n\r\ndefinePageMeta({ middleware: [\"auth\"] });\r\n\r\nconst auth = useAuthStore();\r\nconst mounted = ref(false);\r\nconst refunds = ref([]);\r\nconst loading = ref(true);\r\n\r\nconst fetchRefunds = async () => {\r\n  loading.value = true;\r\n  try {\r\n    const requestData = JSON.stringify({\r\n      gateway_action: \"customer/customerOrder\",\r\n      type: \"getRefundDetails\",\r\n      version: \"1\",\r\n      id_customer: auth.id_customer\r\n    });\r\n\r\n    const response = await axios.post(import.meta.env.VITE_BASE_URL, requestData, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      withCredentials: true\r\n    });\r\n\r\n    console.log(\"Refunds API Response:\", response.data);\r\n    refunds.value = response.data?.refundList || [];\r\n  } catch (err) {\r\n    console.error(\"Failed to fetch refunds:\", err);\r\n    refunds.value = [];\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst formatDate = (dateStr) => {\r\n  if (!dateStr) return \"\";\r\n  const date = new Date(dateStr);\r\n  return date.toLocaleDateString();\r\n};\r\n\r\nconst statusClass = (status) => {\r\n  switch (status?.toLowerCase()) {\r\n    case \"pending\":\r\n      return \"bg-yellow-500\";\r\n    case \"approved\":\r\n      return \"bg-green-500\";\r\n    case \"rejected\":\r\n      return \"bg-red-500\";\r\n    default:\r\n      return \"bg-gray-500\";\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  mounted.value = true;\r\n  fetchRefunds();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* Mobile Optimization */\r\n@media (max-width: 640px) {\r\n  .grid {\r\n    grid-template-columns: 1fr !important;\r\n  }\r\n}\r\n</style>\r\n"],"version":3}