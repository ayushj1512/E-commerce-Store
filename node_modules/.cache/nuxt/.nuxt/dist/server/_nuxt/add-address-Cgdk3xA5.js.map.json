{"file":"add-address-Cgdk3xA5.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAoFA,UAAM,eAAe,gBAAe;AACrB,cAAS;AAExB,UAAM,OAAO,SAAS;AAAA,MACpB,OAAO;AAAA,MACP,WAAW;AAAA,MACX,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,UAAU;AAAA,MACV,MAAM;AAAA,MACN,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa;AAAA,IACf,CAAC;AAGD,UAAM,YAAY,SAAS,MAAM,OAAO,KAAK,aAAa,WAAW,EAAE,SAAS,CAAC;AAGjF;AAAA,MACE,MAAM,aAAa;AAAA,MACnB,CAAC,WAAW;AACV,YAAI,OAAO,KAAK,MAAM,EAAE,SAAS,GAAG;AAClC,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AAAA,MACF;AAAA,MACA,EAAE,WAAW,KAAI;AAAA,IACnB;AAEA,UAAM,cAAc,CAAC,SACnB,KAAK,gBAAgB,OACjB,qCACA;;mBAtHCA,eAAAC,WAAA,EAAA,OAAM,8DAA6D,GAAA,MAAA,CAAA,sNAI/D,UAAA,QAAS,iBAAA,iBAAA,iRAUMC,cAAA,SAAA,KAAK,KAAK,0SAKRA,cAAA,SAAA,KAAK,MAAM,qMAIbA,cAAA,SAAA,KAAK,SAAS,8KAEdA,cAAA,SAAA,KAAK,QAAQ,0YAUbA,cAAA,SAAA,KAAK,OAAO,4KAEZA,cAAA,SAAA,KAAK,MAAM,sMAEXA,cAAA,SAAA,KAAK,QAAQ,iLAEbA,cAAA,SAAA,KAAK,QAAQ,qLAEbA,cAAA,SAAA,KAAK,IAAI,iLAETA,cAAA,SAAA,KAAK,KAAK,gaAQd,YAAW,MAAA,GAAA,2EAAA,CAAA,gFAGX,YAAW,IAAA,GAAA,2EAAA,CAAA,8EAGX,YAAW,QAAA,GAAA,2EAAA,CAAA,kFAGX,YAAW,QAAA,GAAA,2EAAA,CAAA,yOAStB,UAAA,QAAS,mBAAA,cAAA;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr"],"sources":["../../../../../../../pages/profile/add-address.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-gray-50 min-h-screen py-6 px-4 sm:px-6 md:px-12 lg:px-24\">\r\n    <div class=\"max-w-5xl mx-auto bg-white p-6 sm:p-8 md:p-12 rounded-2xl shadow-md space-y-8\">\r\n\r\n      <h1 class=\"text-2xl sm:text-3xl font-bold text-center\">\r\n        {{ isEditing ? \"Edit Address\" : \"Add New Address\" }}\r\n      </h1>\r\n\r\n      <!-- Contact Details -->\r\n      <section class=\"space-y-6\">\r\n        <h2 class=\"font-semibold text-gray-700 text-lg sm:text-xl\">\r\n          Contact Details <span class=\"text-red-500\">*</span>\r\n        </h2>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <input v-model=\"form.email\" type=\"email\" placeholder=\"Email *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n\r\n          <div class=\"flex gap-2 items-center\">\r\n            <span class=\"text-gray-600 text-sm sm:text-base\">+91</span>\r\n            <input v-model=\"form.mobile\" type=\"tel\" placeholder=\"Mobile Number *\" maxlength=\"10\"\r\n              class=\"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          </div>\r\n\r\n          <input v-model=\"form.firstName\" type=\"text\" placeholder=\"First Name *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.lastName\" type=\"text\" placeholder=\"Last Name *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n        </div>\r\n      </section>\r\n\r\n      <!-- Address Details -->\r\n      <section class=\"space-y-6\">\r\n        <h2 class=\"font-semibold text-gray-700 text-lg sm:text-xl\">Address Details</h2>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <input v-model=\"form.pinCode\" type=\"text\" placeholder=\"Pin Code *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.flatNo\" type=\"text\" placeholder=\"Flat/House No, Street, Floor, Area *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.locality\" type=\"text\" placeholder=\"Locality/Town *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.landmark\" type=\"text\" placeholder=\"Landmark (Optional)\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.city\" type=\"text\" placeholder=\"City/District *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n          <input v-model=\"form.state\" type=\"text\" placeholder=\"State *\"\r\n            class=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\" />\r\n        </div>\r\n\r\n        <div class=\"flex flex-col gap-2 mt-2\">\r\n          <label class=\"text-gray-600 text-sm sm:text-base\">Save Address As</label>\r\n          <div class=\"flex flex-wrap gap-3 md:gap-4\">\r\n            <button type=\"button\" @click=\"form.addressType='Home'\"\r\n              :class=\"buttonClass('Home')\"\r\n              class=\"py-2 px-4 rounded-lg border min-w-[70px] sm:min-w-[90px] md:min-w-[110px]\">Home</button>\r\n            <button type=\"button\" @click=\"form.addressType='PG'\"\r\n              :class=\"buttonClass('PG')\"\r\n              class=\"py-2 px-4 rounded-lg border min-w-[70px] sm:min-w-[90px] md:min-w-[110px]\">PG</button>\r\n            <button type=\"button\" @click=\"form.addressType='Hostel'\"\r\n              :class=\"buttonClass('Hostel')\"\r\n              class=\"py-2 px-4 rounded-lg border min-w-[70px] sm:min-w-[90px] md:min-w-[110px]\">Hostel</button>\r\n            <button type=\"button\" @click=\"form.addressType='Office'\"\r\n              :class=\"buttonClass('Office')\"\r\n              class=\"py-2 px-4 rounded-lg border min-w-[70px] sm:min-w-[90px] md:min-w-[110px]\">Office</button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <!-- Save Button -->\r\n      <button @click=\"saveAddress\"\r\n        class=\"w-full bg-black text-white py-3 rounded-full font-semibold hover:bg-gray-800 transition-colors text-base sm:text-lg md:text-xl\">\r\n        {{ isEditing ? \"Update Address\" : \"Save Address\" }}\r\n      </button>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, watch, computed, onMounted } from \"vue\";\r\nimport { useAddressStore } from \"~/stores/address\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst addressStore = useAddressStore();\r\nconst router = useRouter();\r\n\r\nconst form = reactive({\r\n  email: \"\",\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  mobile: \"\",\r\n  pinCode: \"\",\r\n  flatNo: \"\",\r\n  locality: \"\",\r\n  landmark: \"\",\r\n  city: \"\",\r\n  state: \"\",\r\n  defaultAddress: false,\r\n  addressType: \"Home\",\r\n});\r\n\r\n// Check if editing\r\nconst isEditing = computed(() => Object.keys(addressStore.editAddress).length > 0);\r\n\r\n// Prefill form if editing\r\nwatch(\r\n  () => addressStore.editAddress,\r\n  (newVal) => {\r\n    if (Object.keys(newVal).length > 0) {\r\n      Object.assign(form, newVal);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nconst buttonClass = (type) =>\r\n  form.addressType === type\r\n    ? \"bg-black text-white border-black\"\r\n    : \"bg-white text-gray-700 hover:bg-gray-100\";\r\n\r\nconst saveAddress = async () => {\r\n  const requiredFields = [\"email\", \"firstName\", \"lastName\", \"mobile\", \"pinCode\", \"flatNo\", \"locality\", \"city\", \"state\"];\r\n  for (const field of requiredFields) {\r\n    if (!form[field]) {\r\n      alert(`Please fill in ${field.replace(/([A-Z])/g, \" $1\")}`);\r\n      return;\r\n    }\r\n  }\r\n\r\n  const payload = { ...form };\r\n  await addressStore.saveAddress(payload);\r\n\r\n  alert(isEditing.value ? \"Address updated successfully!\" : \"Address saved successfully!\");\r\n\r\n  // Reset edit mode\r\n  addressStore.setEditAddress({});\r\n  addressStore.setSaveAddressClick(false);\r\n\r\n  router.push(\"/profile/addresses\"); // Redirect to addresses list\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ninput:focus {\r\n  outline: none;\r\n}\r\nbutton:focus {\r\n  outline: none;\r\n}\r\n</style>\r\n"],"version":3}