{"version":3,"file":"index-BUlBStJC.js","sources":["../../../../../../../components/common/errorHandler.vue","../../../../../../../pages/[parent]/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-white flex items-center justify-center px-4 py-12\">\r\n    \r\n    <div class=\"bg-white rounded-3xl shadow-2xl p-8 md:p-12 text-center max-w-2xl space-y-6 transform transition-all duration-700 animate-fade-in\">\r\n\r\n      <!-- Sad Face Icon -->\r\n      <div class=\"flex justify-center mb-4\">\r\n        <div class=\"w-28 h-28 rounded-full bg-red-400 flex items-center justify-center animate-bounce-forever shadow-2xl\">\r\n          <Frown class=\"h-14 w-14 text-white\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Header -->\r\n      <h1 class=\"text-4xl md:text-5xl font-great-vibes text-black font-bold tracking-wide\">\r\n        Oops! We couldn't find that.\r\n      </h1>\r\n\r\n      <!-- Message -->\r\n      <p class=\"text-gray-600 text-base md:text-lg max-w-xl mx-auto leading-relaxed\">\r\n        Looks like the page youâ€™re looking for doesnâ€™t exist. Donâ€™t worry, weâ€™ll help you get back on track! ðŸ˜Š\r\n      </p>\r\n\r\n      <!-- Action Buttons -->\r\n      <div class=\"flex flex-col sm:flex-row justify-center gap-4 mt-6\">\r\n        <button\r\n          class=\"bg-black text-white font-semibold py-3 px-7 rounded-xl shadow-md hover:bg-white hover:text-black transition transform hover:-translate-y-1 hover:scale-105\"\r\n          @click=\"goHome\"\r\n        >\r\n          Go Back Home\r\n        </button>\r\n\r\n        <button\r\n          class=\"bg-teal-500 text-white font-semibold py-3 px-7 rounded-xl shadow-md hover:bg-teal-600 transition transform hover:-translate-y-1 hover:scale-105\"\r\n          @click=\"continueShopping\"\r\n        >\r\n          Continue Shopping\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Optional Footer -->\r\n      <p class=\"text-xs text-gray-400 mt-6\">\r\n        If you think this is a mistake, contact <a href=\"mailto:support@sss.com\" class=\"underline hover:text-gray-600\">support@sss.com</a>\r\n      </p>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Frown } from 'lucide-vue-next';\r\nimport { useRouter } from 'vue-router';\r\n\r\nconst router = useRouter();\r\n\r\nconst goHome = () => {\r\n  router.push('/');\r\n}\r\n\r\nconst continueShopping = () => {\r\n  router.push('/collection'); // Update with your shop route\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');\r\n\r\n.font-great-vibes {\r\n  font-family: 'Great Vibes', cursive;\r\n  font-weight: 700;\r\n}\r\n\r\n/* Bounce animation for the icon */\r\n@keyframes bounce-forever {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.2); }\r\n}\r\n.animate-bounce-forever {\r\n  animation: bounce-forever 0.8s ease-in-out infinite;\r\n}\r\n\r\n/* Fade-in animation for card */\r\n@keyframes fade-in {\r\n  0% { opacity: 0; transform: translateY(-20px); }\r\n  100% { opacity: 1; transform: translateY(0); }\r\n}\r\n.animate-fade-in {\r\n  animation: fade-in 0.8s ease forwards;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"min-h-screen bg-gradient-to-b from-gray-50 via-gray-100 to-gray-50 py-6\">\r\n    <!-- Loader -->\r\n    <div v-if=\"showLoader\" class=\"flex justify-center items-center h-screen\">\r\n      <div class=\"flex flex-col items-center space-y-3\">\r\n        <div class=\"loader\"></div>\r\n        <p class=\"text-gray-600 font-medium text-lg\">Loading content...</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- âœ… Collection Page -->\r\n    <CollectionPage v-else-if=\"route.params.parent === 'collection'\" />\r\n\r\n    <!-- Stores Page -->\r\n    <div v-else-if=\"stores.length > 0\" class=\"px-4 md:px-10\">\r\n      <h2 class=\"text-4xl font-bold text-gray-800 mb-8 text-center\">Our Stores</h2>\r\n      <div class=\"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n        <div v-for=\"(store, storeIndex) in stores\" :key=\"storeIndex\">\r\n          <div\r\n            class=\"relative bg-gradient-to-br from-white via-purple-50 to-purple-100 rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 p-6 flex flex-col justify-between h-full\"\r\n          >\r\n            <!-- Store Badge -->\r\n            <div\r\n              v-if=\"store.isNew\"\r\n              class=\"absolute top-4 right-4 bg-pink-500 text-white text-xs font-semibold px-2 py-1 rounded-full shadow-lg\"\r\n            >\r\n              NEW\r\n            </div>\r\n\r\n            <!-- Store Header -->\r\n            <div class=\"flex items-center gap-3 mb-4\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke-width=\"1.5\"\r\n                stroke=\"currentColor\"\r\n                class=\"w-7 h-7 text-purple-600\"\r\n              >\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z\"/>\r\n                <path\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  d=\"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z\"\r\n                />\r\n              </svg>\r\n              <h5 class=\"text-xl font-bold text-gray-900\">{{ store.name }}</h5>\r\n            </div>\r\n\r\n            <!-- Store Address -->\r\n            <div class=\"text-gray-700 text-sm mb-6 space-y-1\">\r\n              <div>{{ store.address1 }}</div>\r\n              <div>{{ store.address2 }}</div>\r\n              <div>{{ store.city }}, {{ store.postcode }}</div>\r\n              <div>{{ store.country }}</div>\r\n            </div>\r\n\r\n            <!-- Actions -->\r\n            <div class=\"flex flex-col gap-3 mt-auto\">\r\n              <a\r\n                :href=\"store.note\"\r\n                target=\"_blank\"\r\n                class=\"bg-gradient-to-r from-purple-600 to-pink-500 text-white font-bold py-2 rounded-lg text-center shadow-md hover:scale-105 transition-transform\"\r\n              >\r\n                Get Directions\r\n              </a>\r\n              <button\r\n                @click=\"viewCatalog(store.website_url, 'clothing')\"\r\n                class=\"border border-purple-600 text-purple-700 font-semibold py-2 rounded-lg text-center hover:bg-purple-50 hover:text-purple-900 transition\"\r\n              >\r\n                View Clothing\r\n              </button>\r\n              <button\r\n                @click=\"viewCatalog(store.website_url, 'shoes')\"\r\n                class=\"border border-purple-600 text-purple-700 font-semibold py-2 rounded-lg text-center hover:bg-purple-50 hover:text-purple-900 transition\"\r\n              >\r\n                View Shoes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- CMS Content -->\r\n    <div v-else-if=\"cmsContent\" class=\"px-4 md:px-10\">\r\n      <div class=\"cmsContent prose max-w-none text-gray-800\" v-html=\"cmsContent\"></div>\r\n    </div>\r\n\r\n    <!-- Error Handler Fallback -->\r\n    <ErrorHandler v-else />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"#app\";\r\nimport axios from \"axios\";\r\nimport CollectionPage from \"~/components/collection/collectionPage.vue\";\r\nimport ErrorHandler from \"~/components/common/errorHandler.vue\"; // âœ… Import ErrorHandler\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n// Reactive state\r\nconst cmsContent = ref(\"\");\r\nconst showLoader = ref(false);\r\nconst stores = ref([]);\r\n\r\n// Globals\r\nconst $globals = {\r\n  site: \"sss\",\r\n  microSite: \"sss\",\r\n  gatewayUrl: \"https://gateway.streetstylestore.com/gateway/v1/\",\r\n};\r\n\r\n// SSR-safe: only run on client\r\nconst isClient = typeof window !== \"undefined\";\r\n\r\n// Fetch CMS content\r\nconst getCMSContent = async (idCMS) => {\r\n  if (!isClient) return null; // Prevent SSR fetch\r\n  try {\r\n    const requestData = {\r\n      gateway_action: \"common/cmsContent\",\r\n      microSite: $globals.microSite,\r\n      site: $globals.site,\r\n      idCMS,\r\n    };\r\n    const response = await axios.post($globals.gatewayUrl, requestData);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.error(\"Error fetching CMS content:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Fetch page data\r\nconst fetchPageData = async () => {\r\n  if (!isClient) return; // SSR-safe\r\n  if (route.params.parent !== \"collection\") {\r\n    showLoader.value = true;\r\n    const returnVal = await getCMSContent(route.params.parent);\r\n    if (returnVal) {\r\n      if (route.params.parent === \"stores\") {\r\n        stores.value = returnVal.content.map((s) => ({\r\n          ...s,\r\n          isNew: Math.random() < 0.3, // random badge\r\n        }));\r\n      } else {\r\n        cmsContent.value = returnVal.content;\r\n      }\r\n    }\r\n    showLoader.value = false;\r\n  }\r\n};\r\n\r\n// Navigate to catalog\r\nconst viewCatalog = (storeUrl, type) => {\r\n  if (!isClient) return;\r\n  router.push(`/store/${storeUrl}/${type}`);\r\n};\r\n\r\n// Mount only on client\r\nif (isClient) {\r\n  onMounted(fetchPageData);\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Loader Animation */\r\n.loader {\r\n  border: 4px solid #ddd;\r\n  border-top-color: #7c3aed; /* purple accent */\r\n  border-radius: 50%;\r\n  width: 3.5rem;\r\n  height: 3.5rem;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* CMS Content Styles */\r\n.cmsContent > p > strong {\r\n  color: #7c3aed;\r\n}\r\n.cmsContent > p {\r\n  margin-bottom: 0.8rem;\r\n  color: #4a4343;\r\n  font-family: \"Lato\", sans-serif;\r\n}\r\n.prose img {\r\n  max-width: 100%;\r\n  height: auto;\r\n}\r\n.cmsContent.prose {\r\n  font-family: \"Lato\", sans-serif;\r\n  color: #4a4343;\r\n  line-height: 1.7;\r\n  max-width: 100%;\r\n}\r\n.cmsContent.prose h1,\r\n.cmsContent.prose h2,\r\n.cmsContent.prose h3,\r\n.cmsContent.prose h4 {\r\n  font-weight: 800;\r\n  color: #7c3aed; /* purple theme */\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n.cmsContent.prose p {\r\n  margin-bottom: 1rem;\r\n  font-size: 1rem;\r\n}\r\n.cmsContent.prose a {\r\n  color: #9333ea;\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  transition: color 0.3s;\r\n}\r\n.cmsContent.prose a:hover {\r\n  color: #7c3aed;\r\n}\r\n.cmsContent.prose img {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  margin: 1rem 0;\r\n}\r\n.cmsContent.prose ul,\r\n.cmsContent.prose ol {\r\n  padding-left: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n.cmsContent.prose blockquote {\r\n  border-left: 4px solid #7c3aed;\r\n  padding-left: 1rem;\r\n  color: #555;\r\n  font-style: italic;\r\n  margin: 1rem 0;\r\n}\r\n</style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","useRouter","_ssrInterpolate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqDe,cAAS;;AApDjB,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,oHAAgH,MAAA,CAAA,CAAA,0WAAA;AAO5G,YAAAC,mBAAAC,MAAA,KAAA,GAAA,EAAA,OAAM,uBAAsB,GAAA,MAAA,OAAA,CAAA;;;;;;;;;;;;;;;;AC6F7C,UAAM,QAAQ,SAAA;AACCC,gBAAA;AAGf,UAAM,aAAa,IAAI,EAAE;AACzB,UAAM,aAAa,IAAI,KAAK;AAC5B,UAAM,SAAS,IAAI,EAAE;;AA1Gd,YAAA,OAAAJ,eAAAC,WAAA,EAAA,OAAM,6EAAyE,MAAA,CAAA,CAAA,mBAAA;UAEvE,WAAA,OAAU;;iBAQME,MAAA,KAAA,EAAM,OAAO,WAAM,cAAA;;MAG9B,WAAA,OAAA,MAAO,SAAM,GAAA;;sBAGU,OAAA,OAAM,CAA5B,OAAO,eAAU;;AAMlB,cAAA,MAAM,OAAK;;;;;gkBAuB8BE,eAAA,MAAM,IAAI,sGAKjDA,eAAA,MAAM,QAAQ,+BACdA,eAAA,MAAM,QAAQ,+BACdA,eAAA,MAAM,IAAI,MAAQA,eAAA,MAAM,QAAQ,+BAChCA,eAAA,MAAM,OAAO,yFAMlB,QAAM,MAAM,IAAI;;;iBAyBb,WAAA,OAAU;mIACuC,WAAA,SAAU,EAAA,cAAA;AAAA;;;;;;;;;;;;;;"}