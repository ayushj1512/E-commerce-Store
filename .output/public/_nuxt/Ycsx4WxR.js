import{_ as w,g as C,c as l,o as r,C as y,a as e,t as n,d as _,J as $,G as j,r as g,B as S,F as k,E as A,ah as D,N as L,z as b,a0 as N,b as h,w as O,O as T,T as V}from"#entry";import{u as P}from"./Xk0yAe1G.js";import{u as I}from"./Dzr-gnKJ.js";const E={key:0,class:"absolute top-2 right-2 text-[9px] sm:text-[10px] font-semibold bg-black text-white px-2 py-0.5 rounded-full uppercase tracking-wide"},B={class:"mb-3 sm:mb-4"},F={class:"text-sm sm:text-base md:text-lg font-semibold text-black mb-1 truncate"},M={class:"text-gray-600 text-[11px] sm:text-xs md:text-sm leading-snug"},R={class:"text-gray-600 text-[11px] sm:text-xs md:text-sm leading-snug"},z={class:"text-gray-500 text-[11px] sm:text-xs md:text-sm mt-1"},Y={__name:"ProfileAddressCard",props:{address:{type:Object,required:!0}},setup(x){const s=x,t=I(),m=C(()=>t.deliveryAddress?.id_address===s.address.id_address);function u(){t.setDeliveryAddress(s.address)}function i(){t.setEditAddress(s.address),t.setSaveAddressClick(!0)}return(c,d)=>(r(),l("div",{class:$(["relative bg-white p-4 sm:p-5 rounded-2xl border transition-all duration-200 shadow-sm hover:shadow-md hover:-translate-y-1",{"border-2 border-black shadow-md":m.value,"border border-gray-200":!m.value}])},[m.value?(r(),l("span",E," Selected ")):y("",!0),e("div",B,[e("p",F,n(x.address.fullname),1),e("p",M,n(x.address.address1)+", "+n(x.address.address2),1),e("p",R,n(x.address.city)+", "+n(x.address.name)+" - "+n(x.address.postcode),1),e("p",z," ðŸ“ž "+n(x.address.phone_mobile),1)]),d[2]||(d[2]=e("div",{class:"border-t border-gray-200 my-2 sm:my-3"},null,-1)),e("div",{class:"flex items-center justify-between gap-2"},[e("button",{class:"flex items-center gap-1 px-2.5 sm:px-3 py-1 sm:py-1.5 border border-black text-black text-[11px] sm:text-xs md:text-sm rounded-md font-medium transition hover:bg-black hover:text-white",onClick:u},[...d[0]||(d[0]=[_(" âœ”ï¸ ",-1),e("span",null,"Select",-1)])]),e("button",{class:"flex items-center gap-1 px-2.5 sm:px-3 py-1 sm:py-1.5 border border-gray-400 text-gray-700 text-[11px] sm:text-xs md:text-sm rounded-md font-medium transition hover:bg-gray-700 hover:text-white",onClick:i},[...d[1]||(d[1]=[_(" âœï¸ ",-1),e("span",null,"Edit",-1)])])])],2))}},q=w(Y,[["__scopeId","data-v-26e301dd"]]),H={class:"w-full overflow-hidden"},G={key:0,class:"flex w-full gap-4 sm:gap-6 overflow-x-auto snap-x snap-mandatory pb-3"},J={key:1,class:"text-center py-10"},K={key:2,class:"flex w-full gap-4 sm:gap-6 overflow-x-auto snap-x snap-mandatory pb-3 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100"},Q={__name:"ProfileSavedAddresses",setup(x){const s=j(),t=I(),m=g(!0);S(async()=>{try{console.log("[SavedAddresses] ðŸ“¡ Fetching addresses..."),await t.fetchAddresses(),console.log("[SavedAddresses] âœ… Addresses loaded:",t.addresses)}catch(o){console.error("[SavedAddresses] âŒ Failed to fetch addresses:",o)}finally{m.value=!1}});const u=C(()=>t.addresses);function i(){s.push("/profile/add-address")}function c(o){console.log("[SavedAddresses] ðŸ·ï¸ Selected Address:",o),t.setDeliveryAddress(o)}function d(o){console.log("[SavedAddresses] âœï¸ Editing Address:",o),t.setEditAddress(o),t.setSaveAddressClick(!0)}return(o,p)=>(r(),l("section",H,[p[2]||(p[2]=e("h2",{class:"text-lg sm:text-xl md:text-2xl font-bold pt-4 pb-5 text-black"}," Saved Addresses ",-1)),m.value?(r(),l("div",G,[(r(),l(k,null,A(3,f=>e("div",{key:f,class:"min-w-[260px] sm:min-w-[300px] max-w-[85%] sm:max-w-xs snap-start flex-shrink-0 rounded-lg border border-gray-200 bg-gray-100 animate-pulse p-4"},[...p[0]||(p[0]=[D('<div class="h-4 w-24 bg-gray-300 rounded mb-3" data-v-54f7080b></div><div class="h-3 w-40 bg-gray-300 rounded mb-2" data-v-54f7080b></div><div class="h-3 w-28 bg-gray-300 rounded mb-2" data-v-54f7080b></div><div class="h-3 w-32 bg-gray-300 rounded" data-v-54f7080b></div><div class="mt-4 h-8 w-20 bg-gray-300 rounded-full" data-v-54f7080b></div>',5)])])),64))])):u.value.length===0?(r(),l("div",J,[p[1]||(p[1]=e("p",{class:"text-gray-600 mb-3 text-sm sm:text-base"}," No saved addresses yet. ",-1)),e("button",{onClick:i,class:"bg-black text-white px-4 sm:px-6 py-2 rounded-full font-semibold hover:bg-gray-800 transition-shadow shadow-md text-xs sm:text-sm md:text-base"}," Click here to add one ")])):(r(),l("div",K,[(r(!0),l(k,null,A(u.value,f=>(r(),L(q,{key:f.id_address,address:f,class:"min-w-[260px] sm:min-w-[300px] max-w-[85%] sm:max-w-xs snap-start flex-shrink-0","is-selected":b(t).deliveryAddress?.id_address===f.id_address,onSelect:c,onEdit:d},null,8,["address","is-selected"]))),128))]))]))}},U=w(Q,[["__scopeId","data-v-54f7080b"]]),W={class:"flex justify-between items-center pt-4 pb-5"},X={key:0,class:"text-center py-6"},Z={key:1,class:"text-center py-6"},ee={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"},te={class:"font-semibold text-black mb-2 text-sm sm:text-base"},se={class:"text-gray-700 text-xs sm:text-sm mb-1"},oe={class:"text-gray-700 text-xs sm:text-sm mb-1"},ae={class:"text-gray-700 text-xs sm:text-sm mb-1"},re={__name:"ProfilePastOrders",setup(x){const s=g([]),t=g(!0),m=async()=>{try{const i=P();if(!i.key||!i.id_customer){console.warn("âš ï¸ No customer session found. Redirect to login?"),s.value=[],t.value=!1;return}const c={gateway_action:"customer/getCustomerOrderList",version:"1",orderType:"all",orderTime:"3 MONTH",id_customer:i.id_customer,user_hash_key:i.key},{data:d}=await T.post("https://gateway.streetstylestore.com/gateway/v1/",c);console.log("[PastOrders] API response:",d),d?.data?.orderList?s.value=d.data.orderList:s.value=[]}catch(i){console.error("Failed to fetch past orders:",i),s.value=[]}finally{t.value=!1}},u=i=>{switch(i){case"Delivered":return"bg-green-100 text-green-800";case"Shipped":return"bg-blue-100 text-blue-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return S(m),(i,c)=>{const d=N("router-link");return r(),l("section",null,[e("div",W,[c[1]||(c[1]=e("h2",{class:"text-lg sm:text-xl md:text-2xl font-bold text-black"},"Past Orders",-1)),h(d,{to:"/profile/orders",class:"bg-black text-white px-4 py-2 rounded-lg shadow-md transition"},{default:O(()=>[...c[0]||(c[0]=[_(" Show All Orders ",-1)])]),_:1})]),t.value?(r(),l("div",X,[...c[2]||(c[2]=[e("p",{class:"text-gray-600 text-sm sm:text-base"},"Loading your orders...",-1)])])):s.value.length===0?(r(),l("div",Z,[...c[3]||(c[3]=[e("p",{class:"text-gray-600 text-sm sm:text-base"},"You have no past orders.",-1)])])):(r(),l("div",ee,[(r(!0),l(k,null,A(s.value,o=>(r(),l("div",{key:o.id_order,class:"bg-white p-5 rounded-2xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all"},[e("p",te,"Order #"+n(o.id_order),1),e("p",se,"Date: "+n(o.date_add),1),e("p",oe,"Items: "+n(o.items?.join(", ")||"-"),1),e("p",ae,"Total: â‚¹"+n(o.total_paid),1),e("span",{class:$(["inline-block mt-2 px-3 py-1 rounded-full text-xs sm:text-sm",u(o.current_state_name)])},n(o.current_state_name),3)]))),128))]))])}}},de=w(re,[["__scopeId","data-v-12c14131"]]),le={key:0,class:"bg-gray-50 min-h-screen py-6 px-3 sm:px-6 md:px-12 lg:px-24 flex flex-col overflow-x-hidden"},ne={class:"mx-auto w-full max-w-6xl space-y-8 sm:space-y-10 flex-1"},ie={class:"text-center mb-6 px-2"},ce={class:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-black break-words"},xe={class:"bg-white shadow-xl rounded-3xl p-6 md:p-10 flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-12 transform transition-transform hover:scale-[1.02] overflow-hidden relative"},me={class:"absolute top-4 right-4"},ue={class:"flex-shrink-0"},pe=["src"],be={class:"flex-1 flex flex-col gap-2 text-center md:text-left overflow-hidden"},ge={class:"text-xl sm:text-2xl md:text-4xl font-extrabold text-black break-words"},fe={class:"text-gray-700 font-medium text-sm sm:text-base break-words"},ve={key:0,class:"text-yellow-500 font-bold text-sm sm:text-base mt-1"},ye={class:"flex flex-wrap items-center gap-2 justify-center md:justify-start mt-2"},he={class:"mt-2 text-gray-600 italic text-sm sm:text-base break-words"},we={class:"flex justify-center mt-6 px-2"},_e={class:"mt-6 flex justify-center px-2"},ke={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4 overflow-x-hidden"},Ae={class:"bg-white rounded-2xl p-6 sm:p-8 md:p-10 max-w-sm w-full shadow-xl relative transform scale-95 transition-all overflow-hidden"},Ce={class:"flex justify-center gap-4 flex-wrap"},Se={__name:"index",setup(x){const s=P(),t=j(),m=g(!1),u=g(!1);S(()=>{m.value=!0,s.loadSession(),p.value=[{id:101,date:"2025-09-01",items:["Bag","Wallet"],total:2999,status:"Delivered"},{id:102,date:"2025-09-05",items:["Sunglasses"],total:999,status:"Shipped"},{id:103,date:"2025-09-08",items:["Purse","Keychain"],total:1799,status:"Delivered"}],o.value=d[Math.floor(Math.random()*d.length)]});const i=C(()=>"https://i.pinimg.com/736x/b1/68/87/b16887baf28b8f5dea2806a92d2f35f2.jpg"),c=()=>{s.logout(),t.push("/login")},d=["Fashion is the armor to survive the reality of everyday life.","Style is a way to say who you are without having to speak.","In order to be irreplaceable, one must always be different.","Elegance is not standing out, but being remembered.","Life is too short to wear boring accessories."],o=g(""),p=g([]);return(f,a)=>m.value?(r(),l("div",le,[e("div",ne,[e("div",ie,[e("h1",ce," Hello, "+n(b(s).name||"Customer")+"! ",1),a[6]||(a[6]=e("p",{class:"text-gray-700 sm:text-base md:text-lg mt-1 break-words"}," You are just a few steps away from grabbing your favorite accessories ðŸŽ‰ ",-1))]),e("div",xe,[e("div",me,[e("button",{onClick:a[0]||(a[0]=v=>u.value=!0),class:"bg-red-600 text-white px-4 py-2 rounded-full hover:bg-red-700 transition-colors font-semibold text-sm shadow-md"}," Logout ")]),e("div",ue,[e("img",{src:i.value,alt:"Customer Avatar",class:"w-24 h-24 sm:w-28 sm:h-28 md:w-40 md:h-40 rounded-full border-4 border-black shadow-md object-cover"},null,8,pe)]),e("div",be,[e("h1",ge,n(b(s).name||"Customer"),1),e("p",fe,"ID: "+n(b(s).id_customer||"0000"),1),b(s).isVIP?(r(),l("p",ve," VIP Customer ")):y("",!0),e("div",ye,[e("button",{onClick:a[1]||(a[1]=v=>b(t).push("/profile/vouchers")),class:"bg-black text-white px-3 py-1 rounded-full hover:bg-gray-800 transition text-xs sm:text-sm whitespace-nowrap"}," See Available Vouchers "),e("button",{onClick:a[2]||(a[2]=v=>b(t).push("/profile/refunds")),class:"bg-black text-white px-3 py-1 rounded-full hover:bg-gray-800 transition text-xs sm:text-sm whitespace-nowrap"}," View Refunds ")]),e("p",he,'"'+n(o.value)+'"',1)])]),h(de,{orders:p.value},null,8,["orders"]),h(U),e("section",we,[e("button",{onClick:a[3]||(a[3]=v=>b(t).push("/profile/support")),class:"bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition shadow-md font-semibold text-base"}," Raise a Concern ")])]),e("div",_e,[e("button",{onClick:a[4]||(a[4]=v=>b(t).push("/profile/deactivation")),class:"bg-red-600 text-white px-6 py-3 rounded-full hover:bg-red-700 transition shadow-md font-semibold text-base"}," Deactivate Account ")]),h(V,{name:"fade-scale"},{default:O(()=>[u.value?(r(),l("div",ke,[e("div",Ae,[a[7]||(a[7]=e("div",{class:"text-red-500 text-center text-5xl mb-4"},"âš ï¸",-1)),a[8]||(a[8]=e("p",{class:"text-lg font-semibold mb-6 text-center break-words"}," Are you sure you want to logout? This will clear your session. ",-1)),e("div",Ce,[e("button",{onClick:c,class:"flex-1 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition"}," Yes, Logout "),e("button",{onClick:a[5]||(a[5]=v=>u.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 rounded-xl hover:bg-gray-300 transition"}," Cancel ")])])])):y("",!0)]),_:1})])):y("",!0)}},Pe=w(Se,[["__scopeId","data-v-6d8d7521"]]);export{Pe as default};
