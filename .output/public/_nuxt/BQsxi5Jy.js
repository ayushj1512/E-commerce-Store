import{_ as v,r as l,c as r,o as d,a as s,ah as b,b as p,C as u,w as f,U as g,V as y,T as h,t as w}from"#entry";import{u as P}from"./Xk0yAe1G.js";const k={class:"bg-gray-50 min-h-screen flex flex-col py-6 px-3 sm:px-6 md:px-12 lg:px-24 overflow-x-hidden"},_={class:"mx-auto w-full max-w-3xl space-y-8 flex-1"},T={key:0,class:"bg-white shadow-lg rounded-3xl p-6 md:p-10 mt-6 space-y-4"},S={class:"flex justify-center gap-4 flex-wrap"},C={key:0,class:"mt-4 text-center text-sm sm:text-base text-gray-800 font-medium"},O={__name:"deactivation",setup(D){const i=P();l(!0);const n=l(!1),o=l(""),e=l(""),x=async()=>{e.value="";try{const t=await i.sendDeactivtionCode();t?.success?(n.value=!0,e.value="OTP sent successfully. Please check your registered mobile/email."):e.value=t?.message||"Failed to send OTP."}catch(t){console.error(t),e.value="Something went wrong. Please try again."}},m=async()=>{if(!o.value.trim()){e.value="Please enter the OTP.";return}try{const t=await i.verifyDeactivationCode(o.value);t?.success?(e.value="Your account has been successfully deactivated. Logging out...",setTimeout(()=>{i.logout(),window.location.href="/login"},2e3)):e.value=t?.message||"Invalid OTP. Please try again."}catch(t){console.error(t),e.value="Something went wrong. Please try again."}};return(t,a)=>(d(),r("div",k,[s("div",_,[a[4]||(a[4]=b('<div class="text-center mb-6 px-2" data-v-360e4393><h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-black break-words" data-v-360e4393> Account Deactivation </h1><p class="text-gray-700 sm:text-base md:text-lg mt-2 break-words" data-v-360e4393> Please read carefully before proceeding. Deactivating your account is permanent and cannot be undone. </p></div><div class="bg-white shadow-lg rounded-3xl p-6 md:p-10 space-y-4 overflow-hidden" data-v-360e4393><h2 class="text-xl sm:text-2xl font-bold text-black" data-v-360e4393>What happens when you deactivate:</h2><ul class="list-disc list-inside text-gray-700 space-y-2 text-sm sm:text-base" data-v-360e4393><li data-v-360e4393>You will be logged out from your SSS account immediately.</li><li data-v-360e4393>Your reviews/ratings remain visible, but your profile info will be unavailable.</li><li data-v-360e4393>Wishlist items will no longer be accessible via public links.</li><li data-v-360e4393>You will be unsubscribed from promotional emails and SMS.</li><li data-v-360e4393>Order history is retained, but personal information (mobile, email, addresses) will be deleted.</li></ul></div>',2)),s("div",{class:"flex justify-center mt-4"},[s("button",{onClick:x,class:"bg-red-600 text-white px-6 py-3 rounded-full hover:bg-red-700 transition shadow-md font-semibold text-base"}," Send Deactivation Code ")]),p(h,{name:"fade-scale"},{default:f(()=>[n.value?(d(),r("div",T,[a[2]||(a[2]=s("h3",{class:"text-lg sm:text-xl font-bold text-black text-center"},"Enter OTP",-1)),a[3]||(a[3]=s("p",{class:"text-gray-600 text-sm sm:text-base text-center"}," An OTP has been sent to your registered mobile/email. Please enter it below to confirm deactivation. ",-1)),g(s("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>o.value=c),type:"text",placeholder:"Enter OTP",class:"w-full border border-gray-300 rounded-xl p-4 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent text-center"},null,512),[[y,o.value]]),s("div",S,[s("button",{onClick:m,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition shadow-md"}," Confirm Deactivation "),s("button",{onClick:a[1]||(a[1]=c=>n.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 rounded-xl hover:bg-gray-300 transition shadow-md"}," Cancel ")])])):u("",!0)]),_:1}),e.value?(d(),r("div",C,w(e.value),1)):u("",!0)])]))}},Y=v(O,[["__scopeId","data-v-360e4393"]]);export{Y as default};
